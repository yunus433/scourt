extends ../../partials/head
block content
  input.team-object-value(value= team._id)
  input.user-object-value(value= user._id)
  .all-wrapper
    .all-header
      a(href="/").all-header-name scourt
      a(href="/edit").user-description
        span.user-name Hi, #{user.name.split(" ")[0]}
        img.user-image(src="/res/uploads/" + user.profileFoto)
    .all-content-dashboard
      .content-side-header
        .edit-team
          img.team-photo(src="/res/uploads/" + team.teamPhoto)
          span.team-name #{team.name} 
        .player-number(onmouseover="document.querySelector('.team-players-list').style.display = 'flex'" onmouseout="document.querySelector('.team-players-list').style.display = 'none'")
          span #{team.players.length} joined players
      .messages-block#messages-block
        .team-players-list  
          each player in team.players
            .each-team-player
              span= player.name
        each message in team.messages
          - let classValue
          - if (message.sender._id.toString() === user._id.toString()) {
          - classValue = 'right';
          - } else {
          - classValue = 'left'; 
          - }
          .each-message(class=classValue)
            .message-sender
              span #{message.sender.name}
            .message-content
              span #{message.content}
      form.new-message-form
        button.message-sending-button Send
        input.message-sender-team-input(type="text" value=team._id)
        input.message-sender-input(type="text" value=user._id)
        input.message-sending-input(type="text", name="message", autocomplete="off", autofocus, placeholder="Your message")
          