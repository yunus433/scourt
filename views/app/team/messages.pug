extends ../../partials/head
block content
  input.team-object-value(value= team._id)
  input.user-object-value(value= user._id)
  .all-wrapper
    .all-header
      a(href="/app/dashboard").all-header-name scourt
      .user-description
        .user-description-line-first
          span.user-name Hi, #{user.name.split(" ")[0]}
          img.user-image(src=user.profilePhoto)
        a(href="/app/edit").user-description-line
          span Settings
        a(href="/app/edit/password").user-description-line
          span Change password
        a(href="/").user-description-line
          span Logout
    .all-content-dashboard
      .content-side-header-open-button
        i.fas.fa-bars
        span Menu
      .content-side-header
        a.header-part.team-header-part(href="/app/team")
          span Team Page
        a.header-part.message-header-part#selected(href="/app/team/messages")
          span Messages
        a.header-part.date-header-part(href="/app/team/calendar")
          span Calendar
        a.header-part.videos-header-part(href="/app/team/videos")
          span Video Analysis
      .messages-wrapper
        .messages-block#messages-block
          each message in team.messages
            - let classValue
            - if (message.sender._id.toString() === user._id.toString()) {
            - classValue = 'right';
            - } else {
            - classValue = 'left'; 
            - }
            .each-message(class=classValue)
              .message-sender
                span(style="color: " + message.sender.color) #{message.sender.name}
              .message-content
                span #{message.content}
        form.new-message-form
          input.message-sender-team-input(type="text" value=team._id)
          input.message-sender-input(type="text" value=user._id)
          input.message-sending-input(type="text", name="message", autocomplete="off", autofocus, placeholder="Your message")
          button.message-sending-button Send
